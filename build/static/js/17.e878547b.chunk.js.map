{"version":3,"sources":["pages/CreateAccount.js","assets/img/create-account-office.jpeg","assets/img/create-account-office-dark.jpeg","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/Message.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"names":["Register","props","useState","username","password","role","user","setUser","setMessage","timerID","useRef","useEffect","clearTimeout","onChange","event","target","name","value","className","aria-hidden","src","ImageLight","alt","ImageDark","onSubmit","preventDefault","AuthService","register","then","data","message","msgError","Swal","fire","icon","title","text","showConfirmButton","setTimeout","history","push","close","htmlFor","type","placeholder","block","to","module","exports","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","getStyle","baseClass","Message","msgBody","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties"],"mappings":"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","file":"static/js/17.e878547b.chunk.js","sourcesContent":["import React, { useState, useRef, useEffect, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport ImageLight from \"../assets/img/create-account-office.jpeg\";\r\nimport ImageDark from \"../assets/img/create-account-office-dark.jpeg\";\r\nimport { GithubIcon, TwitterIcon } from \"../icons\";\r\nimport { Input, Label, Button } from \"@windmill/react-ui\";\r\nimport AuthService from \"../Services/AuthService\";\r\nimport Message from \"../components/Message\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nfunction Register(props) {\r\n  const [user, setUser] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    role: \"user\",\r\n  });\r\n  const [message, setMessage] = useState(null);\r\n  let timerID = useRef(null);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      clearTimeout(timerID);\r\n    };\r\n  }, []);\r\n\r\n  const onChange = (event) => {\r\n    setUser({ ...user, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setUser({ username: \"\", password: \"\", role: \"\" });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    AuthService.register(user).then((data) => {\r\n      // const { isAuthenticated, user, message } = data;\r\n      // if (isAuthenticated) {\r\n      //   authContext.setUser(user);\r\n      //   authContext.setIsAuthenticated(isAuthenticated);\r\n      //   props.history.push(\"/app/dashboard\");\r\n      // } else setMessage(message);\r\n      const { message } = data;\r\n      setMessage(message);\r\n      resetForm();\r\n      if (!message.msgError) {\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Account Created\",\r\n          text: \"Redirecting to the login page...\",\r\n          showConfirmButton: false,\r\n        });\r\n        timerID = setTimeout(() => {\r\n          props.history.push(\"/login\");\r\n          Swal.close();\r\n        }, 2000);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900\">\r\n      <div className=\"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800\">\r\n        <div className=\"flex flex-col overflow-y-auto md:flex-row\">\r\n          <div className=\"h-32 md:h-auto md:w-1/2\">\r\n            <img\r\n              aria-hidden=\"true\"\r\n              className=\"object-cover w-full h-full dark:hidden\"\r\n              src={ImageLight}\r\n              alt=\"Office\"\r\n            />\r\n            <img\r\n              aria-hidden=\"true\"\r\n              className=\"hidden object-cover w-full h-full dark:block\"\r\n              src={ImageDark}\r\n              alt=\"Office\"\r\n            />\r\n          </div>\r\n          <main className=\"flex items-center justify-center p-6 sm:p-12 md:w-1/2\">\r\n            <div className=\"w-full\">\r\n              <form onSubmit={onSubmit}>\r\n                <h1 className=\"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200\">\r\n                  Create Account\r\n                </h1>\r\n                <Label htmlFor=\"username\">\r\n                  <span>Username</span>\r\n                  <Input\r\n                    className=\"mt-1\"\r\n                    value={user.username}\r\n                    type=\"text\"\r\n                    placeholder=\"Username\"\r\n                    name=\"username\"\r\n                    onChange={onChange}\r\n                  />\r\n                </Label>\r\n\r\n                <Label className=\"mt-4\" htmlFor=\"password\">\r\n                  <span>Password</span>\r\n                  <Input\r\n                    className=\"mt-1\"\r\n                    value={user.password}\r\n                    type=\"password\"\r\n                    placeholder=\"**********\"\r\n                    name=\"password\"\r\n                    onChange={onChange}\r\n                  />\r\n                </Label>\r\n\r\n                <Button className=\"mt-4\" block type=\"submit\">\r\n                  Create Account\r\n                </Button>\r\n              </form>\r\n              <hr className=\"my-8\" />\r\n              <p className=\"mt-4\">\r\n                <Link\r\n                  className=\"text-sm font-medium text-purple-600 dark:text-purple-400 hover:underline\"\r\n                  to=\"/login\"\r\n                >\r\n                  Already have an account? Login\r\n                </Link>\r\n              </p>\r\n            </div>\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","module.exports = __webpack_public_path__ + \"static/media/create-account-office.41b2c6a1.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/create-account-office-dark.d34c7b50.jpeg\";","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React from \"react\";\r\n\r\nconst getStyle = (props) => {\r\n  let baseClass = \"alert\";\r\n  if (props.message.msgError) {\r\n    baseClass = baseClass + \"alert-danger\";\r\n  } else {\r\n    baseClass = baseClass + \"alert-primary\";\r\n  }\r\n  return baseClass + \"text-center\";\r\n};\r\n\r\nconst Message = (props) => {\r\n  return (\r\n    <div className={getStyle(props)} role=\"alert\">\r\n      {props.message.msgBody}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}"],"sourceRoot":""}